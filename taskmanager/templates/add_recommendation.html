{% extends "base.html" %}
{% block content %}


<!-- banner -->
<div class="bg-dgreen">
    <div class="container heading-banner valign-wrapper">
        <div class="row val">
            <div class="col s12 center-align">
                <h1 class="fira-600 white-text">Add Recommendation</h1>
            </div>
        </div>
    </div>
</div>

<div class="bg-lblue" id="a-recommendation-page">
    <div class="container col s10 bg-white blue-container">
        <div class="row">
            <form class="col s12" method="POST" action="{{ url_for('add_recommendation') }}">
                <!-- Recommendation name field -->
                <div class="row">
                    <div class="input-field col s9">
                        <input id="recommendation_name" placeholder="Max 15 characters" name="recommendation_name"
                            minlength="3" maxlength="15" type="text" class="validate" required
                            oninput="checkMaxLength(this)">
                        <label for="recommendation_name">Holiday Title</label>
                    </div>
                </div>
                <!-- Holiday Type Id (User select from name) -->
                <div class="row">
                    <div class="input-field col s9">
                        <select id="holiday_id" name="holiday_id" class="validate" required>
                            <option value="" disabled selected>Choose Holiday Type</option>
                            {% for holiday_type in holiday_types %}
                            <option value="{{ holiday_type.id }}">{{ holiday_type.holiday_name }}</option>
                            {% endfor %}
                        </select>
                        <label for="holiday_id">Holiday Type</label>
                    </div>
                </div>
                <!-- Region (User select from options) -->
                <div class="row">
                    <div class="input-field col s9">
                        <select id="region" name="region" class="validate" placeholder="Select Region" required>
                            <option value="" disabled selected>Select</option>
                            <option value="south-west">South West</option>
                            <option value="south-east">South East</option>
                            <option value="west-midlands">West Midlands</option>
                            <option value="east-midlands">East Midlands</option>
                            <option value="north-west">North West</option>
                            <option value="north-east">North East</option>
                            <option value="yorkshire-and-the-humber">Yorkshire and the Humber</option>
                            <option value="east-of-england">East of England</option>
                            <option value="london">London</option>
                        </select>
                        <label for="region">Region</label>
                    </div>
                </div>
                <!-- Occupant Selection-->
                <div class="row">
                    <div class="input-field col s3">
                        <select id="occupants" name="occupants" class="validate" required
                           >
                            <option value="" disabled selected>Select</option>
                            <option value="2">2</option>
                            <option value="3-4">3-4</option>
                            <option value="5-6">5-6</option>
                            <option value="7-8">7-8</option>
                            <option value="9+">9+</option>
                        </select>
                        <label for="occupants">Occupants</label>
                    </div>
                    <!-- Date Selection-->
                    <div class="input-field col s6">
                        <input id="recommendation_date" name="recommendation_date" class="validate datepicker" required
                            placeholder="When did you visit?">
                        <label for="recommendation_date"></label>
                    </div>
                </div>
                <!-- Location Name and map (map code adapted from Imran Sayed at Codeytek Academy youtube tutorial)-->
                <div class="row">
                    <div class="input-field col s12">
                        <input id="location_name" name="location_name" class="validate" type="text"
                            placeholder="start typing to search" maxlength="
                        120" required>
                        <label for="location_name">Address</label>
                    </div>
                </div>

                <div>Please check the location on the map and either move the marker or re-type your location.</div>

                <div id="map-canvas"></div>

                <!-- HIDDEN FROM USER, autofilled by JS using location/map" -->
                <!-- map Longitude -->
                <div class="row" style="display: none;">
                    <div class="input-field col s6">
                        <label for="map_long"></label>
                        <input id="map_long" name="map_long" type="text" required>
                    </div>
                </div>
                <!-- map Latitude -->
                <div class="row" style="display: none;">
                    <div class="input-field col s6">
                        <label for="map_lat"></label>
                        <input id="map_lat" name="map_lat" type="text" required>
                    </div>
                </div>

                <!-- Recommendation Review-->
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="recommendation_review" name="recommendation_review"
                            class="materialize-textarea validate"
                            placeholder="Describe your stay, activities in the area, and what made it special. Your review can guide others planning family-friendly holidays. Max 500 words"
                            maxlength="120" required></textarea>
                        <label for="recommendation_review">Review</label>
                    </div>
                </div>

                <div class="row"> Please select a landscape image to accompany your recommendation </div>

                <!-- Image Upload-->
                <div class="row">
                    <div class="input-field col s12">
                        <input type="file" id="image" name="image" placeholder="Please select a Landscape image">
                        <button type="button" id="upload-button">Save</button>
                        <label for="image"></label>
                    </div>

                    <div class="col s12" id="uploaded-image"></div>

                    <div class="col s6">
                    <input id="mimetype" name="mimetype" type="text" required>   
                    <label for="mimetype"></label> 
                    </div>

                    
                </div>










                <!-- Upload Image
                <div class="row">
                    <div class="input-field col s6">
                        <input id="image" name="image" minlength="5" maxlength="30" type="text" class="validate"
                            required>
                        <label for="image">Upload an Image</label>
                    </div>

                    <div class="col s2"> <a class="waves-effect waves-light btn modal-trigger question-mark"
                            href="#modal1">?</a></div>

                </div> -->


                <!-- Image Modal Structure
                <div id="modal1" class="modal">
                    <div>
                        <a href="#!" class="modal-close waves-effect waves-green btn-flat right"><i
                                class="fa-solid fa-square-xmark"></i></a>
                    </div>
                    <div>
                        <div style="text-align: justify;" class="modal-content fira-500">
                            <p>HOW TO .................</p>
                        </div>
                        <div class="center-align modal-image">
                            <img alt="image showing google map co-ordinates" src="../static/images/map_coordinates.png"
                                height="150px">
                        </div>
                    </div>
                </div> -->
        </div>


        <!-- Send button -->
        <div class="col s12 center-align">
            <button type="submit" id="submit-button" class="col s8 offset-s2 m6 offset-m3 l3 offset-l4 btn-large btn-dgreen">Submit
            </button>
        </div>
        </form>
    </div>
</div>
</div>

{% endblock %}

{% block scripts %}
<!-- image upload specific JS-->
<script src="{{ url_for('static', filename='js/addRecommendation.js') }}"></script>
<!-- Maps specific JS-->
<script src="{{ url_for('static', filename='js/maps.js') }}"></script>
<!-- Google Maps API -->
<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDY8GR3DNBlbz_RmwXJF7SRbBn4igCcsUg&libraries=places&callback=initialize">
</script>
{% endblock %}